---
name: vite-build-guidelines-jp
description: プロジェクトのビルドツールである Vite の基本的な使用方法、開発サーバーの起動、本番ビルドの手順に関するガイドライン。
---

# Vite ビルド & 開発ガイドライン

## 概要
本プロジェクトでは、フロントエンドのビルドツールとして **Vite** を使用しています。
開発効率の向上と、本番環境向けの最適化されたアセット生成のために、以下のコマンドと手順を理解し使用してください。

## 主要コマンド (npm scripts)

`package.json` に定義されている以下のコマンドを使用します。

### 1. 開発サーバー起動 (`npm run dev`)
ローカル環境での開発時に使用します。
- **機能**: ホットリロード（HMR）対応のローカルサーバーを起動します。
- **URL**: 通常 `http://localhost:5173`
- **注意**: ファイルを変更すると自動的にブラウザがリロードされます。

### 2. 本番用ビルド (`npm run build`)
本番環境（デプロイ先）へアップロードするためのファイルを生成します。
- **機能**: コードの圧縮、最適化、アセットのハッシュ化を行います。
- **出力先**: プロジェクトルートの `dist/` ディレクトリ
- **構成**:
  - `dist/index.html`: エントリーポイント
  - `dist/assets/`: JS, CSS, 画像などの静的アセット

### 3. プレビュー (`npm run preview`)
ビルド後の `dist/` ディレクトリの動作をローカル環境で確認します。
- **用途**: `npm run build` が正しく行われたか、本番相当の環境で動作確認するために使用します。
- **注意**: 開発サーバー (`dev`) とは異なり、ホットリロードは機能しません。

## デプロイについて
Cloudflare Pages や Vercel などのホスティングサービスにデプロイする場合は、以下の設定を行います。
- **ビルドコマンド**: `npm run build`
- **出力ディレクトリ**: `dist`

## トラブルシューティング

### ビルドエラーが発生する場合
- `node_modules` が破損している可能性があります。一度削除して再インストールしてください。
  ```bash
  rm -rf node_modules package-lock.json
  npm install
  ```

### スタイルが適用されない場合
- `static-css-loading-policy-jp` を参照し、`index.html` での CSS 読み込み設定を確認してください。
- Tailwind CSS が正しくビルドされているか確認してください。
